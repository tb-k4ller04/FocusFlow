<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FocusFlow</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Password Protection Modal -->
  <div id="passwordModal" style="display: flex; position: fixed; z-index: 9999; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.9); align-items: center; justify-content: center;">
    <div style="background-color: #0f172a; padding: 2rem; border-radius: 1rem; text-align: center; max-width: 400px; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.7);">
      <h2 style="color: #38bdf8; margin-top: 0; margin-bottom: 1.5rem;">ğŸ” FocusFlow</h2>
      <p style="color: #e5e7eb; margin-bottom: 1rem;">Gib das Passwort ein:</p>
      <input type="password" id="passwordInput" placeholder="Passwort..." style="width: 100%; padding: 0.8rem; margin-bottom: 1rem; border-radius: 0.5rem; border: 2px solid #38bdf8; background-color: #1f2937; color: #fff; font-size: 1rem; box-sizing: border-box;" />
      <button onclick="checkPassword()" style="width: 100%; padding: 0.8rem; background-color: #38bdf8; color: #fff; border: none; border-radius: 0.5rem; cursor: pointer; font-weight: 600; font-size: 1rem;">Einloggen</button>
      <p id="passwordError" style="color: #ef4444; margin-top: 0.5rem; display: none;">âŒ Falsches Passwort!</p>
    </div>
  </div>

  <script>
    document.body.style.overflow = 'hidden';
    document.getElementById('passwordInput')?.addEventListener('keypress', function(e) {
      if (e.key === 'Enter') window.checkPassword();
    });
  </script>

  <button class="theme-toggle" aria-label="Design-Modus wechseln">ğŸŒ™</button>

  <header class="header">
    <h1>ğŸŒ¿ FocusFlow</h1>
    <p id="quote" aria-live="polite"></p>
  </header>

  <main class="app">
    <!-- To-Dos -->
    <div class="card wide">
      <h2>ğŸ“ To-Dos</h2>
      <form id="todoForm" class="form-group">
        <div class="form-row">
          <input id="todoTitle" placeholder="Titel" required>
        </div>
        <div class="form-row">
          <textarea id="todoDesc" placeholder="Beschreibung"></textarea>
        </div>
        <div class="form-row">
          <input id="todoAuthor" placeholder="Von">
        </div>
        <div class="form-row">
          <label for="todoUrgency">Dringlichkeit:</label>
          <select id="todoUrgency">
            <option value="Niedrig">Niedrig</option>
            <option value="Mittel" selected>Mittel</option>
            <option value="Hoch">Hoch</option>
          </select>
        </div>
        <div class="form-row">
          <label for="todoDue">FÃ¤lligkeitsdatum:</label>
          <input type="date" id="todoDue">
        </div>
        <button type="submit" class="btn-primary">HinzufÃ¼gen</button>
      </form>
      <ul id="todoList"></ul>
    </div>

    <!-- Statistik -->
    <div class="card wide">
      <h2>ğŸ“Š Statistik</h2>
      <p>Erledigte Aufgaben: <strong id="stats">0</strong></p>
      <div class="button-group">
        <button id="clockInBtn" class="btn-primary">Einstempeln</button>
        <button id="clockOutBtn" class="btn-primary">Ausstempeln</button>
        <button id="showTimesBtn" class="btn-primary">Zeiten anzeigen</button>
      </div>
      <ul id="statsList"></ul>
    </div>

    <!-- Timer -->
    <div class="card">
      <h2>â± Timer / Stoppuhr</h2>
      <form id="timerForm" class="form-group">
        <div class="form-row">
          <label for="timerMode">Modus:</label>
          <select id="timerMode">
            <option value="countdown">Countdown Timer</option>
            <option value="stopwatch">Stoppuhr</option>
          </select>
        </div>
        <div class="timer-input-group">
          <div class="timer-input">
            <label for="hours">Stunden</label>
            <input id="hours" type="number" min="0" max="99" value="0">
          </div>
          <div class="timer-input">
            <label for="minutes">Minuten</label>
            <input id="minutes" type="number" min="0" max="59" value="0">
          </div>
          <div class="timer-input">
            <label for="seconds">Sekunden</label>
            <input id="seconds" type="number" min="0" max="59" value="0">
          </div>
        </div>
      </form>
      <div class="timer" id="timer" aria-live="polite" role="status">00:00:00</div>
      <div class="button-group">
        <button id="startTimerBtn" class="btn-primary">Start</button>
        <button id="resetTimerBtn" class="btn-primary">Reset</button>
      </div>
    </div>

    <!-- Notizen -->
    <div class="card">
      <h2>ğŸ§  Notizen</h2>
      <form id="noteForm" class="form-group">
        <div class="form-row">
          <input id="noteInput" placeholder="Neue Notiz">
        </div>
        <button type="submit" class="btn-primary">HinzufÃ¼gen</button>
      </form>
      <ul id="notesContainer"></ul>
    </div>

    <!-- Kalender mit Terminen -->
    <div class="card">
      <h2>ğŸ“… Kalender & Termine</h2>
      <form id="eventForm" class="form-group">
        <div class="form-row">
          <label for="eventDate">Datum:</label>
          <input type="date" id="eventDate" required>
        </div>
        <div class="form-row">
          <label for="eventTime">Uhrzeit:</label>
          <input type="time" id="eventTime" required>
        </div>
        <div class="form-row">
          <label for="eventTitle">Titel:</label>
          <input id="eventTitle" placeholder="Termin Titel" required>
        </div>
        <div class="form-row">
          <label for="eventDesc">Beschreibung:</label>
          <textarea id="eventDesc" placeholder="Optionale Notizen" style="min-height: 60px;"></textarea>
        </div>
        <button type="submit" class="btn-primary">Termin erstellen</button>
      </form>
      
      <h3 style="margin-top: 2rem; margin-bottom: 1rem;">ğŸ“† KalenderÃ¼bersicht</h3>
      <div id="calendar" role="complementary" aria-label="KalenderÃ¼bersicht"></div>
      
      <h3 style="margin-top: 2rem; margin-bottom: 1rem;">ğŸ“‹ Termine fÃ¼r heute</h3>
      <ul id="todayEvents" style="list-style: none; padding: 0;"></ul>
    </div>

    <!-- Quick Actions -->
    <div class="card">
      <h2>âš¡ Quick Actions</h2>
      <div class="quick-actions-grid">
        <div class="quick-action-group">
          <h3>â±ï¸ Schnell-Timer</h3>
          <button id="timer5min" class="btn-primary">5 Min</button>
          <button id="timer15min" class="btn-primary">15 Min</button>
          <button id="timer30min" class="btn-primary">30 Min</button>
        </div>
        
        <div class="quick-action-group">
          <h3>ğŸ“Š Daten</h3>
          <button id="exportBtn" class="btn-primary">Export</button>
          <button id="importBtn" class="btn-primary">Import</button>
          <button id="clearAllBtn" class="btn-danger">Alles lÃ¶schen</button>
        </div>
        
        <div class="quick-action-group">
          <h3>ğŸ¯ Cleanup</h3>
          <button id="clearDoneBtn" class="btn-primary">Erledigte lÃ¶schen</button>
          <button id="statsBtn" class="btn-primary">Diese Woche</button>
        </div>
      </div>
      <input type="file" id="importFile" accept=".json" style="display: none;">
    </div>
  </main>

  <!-- Modal fÃ¼r Termineingabe -->
  <div id="eventModal" class="modal">
    <div class="modal-content">
      <button class="modal-close" id="modalClose">&times;</button>
      <h2>ğŸ“… Neuer Termin</h2>
      <form id="eventModalForm" class="form-group">
        <div class="form-row">
          <label for="eventModalDate">Datum:</label>
          <input type="date" id="eventModalDate" required>
        </div>
        <div class="form-row">
          <label for="eventModalTime">Uhrzeit:</label>
          <input type="time" id="eventModalTime" required>
        </div>
        <div class="form-row">
          <label for="eventModalTitle">Titel:</label>
          <input id="eventModalTitle" placeholder="Termin Titel" required>
        </div>
        <div class="form-row">
          <label for="eventModalDesc">Beschreibung:</label>
          <textarea id="eventModalDesc" placeholder="Optionale Notizen" style="min-height: 80px;"></textarea>
        </div>
        <button type="submit" class="btn-primary">Termin erstellen</button>
      </form>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
